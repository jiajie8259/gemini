<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>台中兩日遊 - 12/19~12/20</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght300;400;500;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Noto Sans TC', sans-serif; background-color: #f3f4f6; }
        .timeline-line { position: absolute; left: 24px; top: 0; bottom: 0; width: 2px; background-color: #e5e7eb; z-index: 0; }
        .card { transition: transform 0.2s, box-shadow 0.2s; cursor: pointer; }
        .card:hover { transform: translateY(-2px); box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.06); }
        .time-badge { background-color: #e0f2fe; color: #0369a1; font-weight: 600; font-size: 0.75rem; padding: 2px 8px; border-radius: 9999px; display: inline-flex; align-items: center; }
        .transport-badge { font-size: 0.7rem; padding: 1px 6px; border-radius: 4px; background-color: #f3f4f6; color: #666; border: 1px solid #ddd; margin-right: 5px; }
    </style>
</head>
<body class="text-gray-800">

    <!-- Header (交通費用細項分類顯示) -->
    <header class="bg-teal-600 text-white shadow-lg sticky top-0 z-50">
        <div class="container mx-auto px-4 py-4 flex justify-between items-center">
            <div>
                <h1 class="text-xl md:text-2xl font-bold"><i class="fas fa-map-marked-alt mr-2"></i>台中兩日遊</h1>
                <p class="text-xs md:text-sm text-teal-100">2025/12/19 (五) - 12/20 (六)</p>
            </div>
            <!-- 交通總額 (詳細分解：高鐵/公車/計程車/總和) -->
            <div class="bg-teal-500 rounded-lg p-2 text-xs shadow-md">
                <p class="text-xs font-medium opacity-80 text-center mb-1">預估交通總額 (單人)</p>
                <div class="flex justify-between items-end space-x-4">
                    <div class="text-left">
                        <p class="font-medium opacity-80 text-teal-200">高鐵:</p>
                        <!-- 市區交通細項 -->
                        <p class="font-medium opacity-80 text-teal-200 mt-1">公車:</p>
                        <p class="font-medium opacity-80 text-teal-200">計程車:</p>
                    </div>
                    <div class="text-right font-extrabold">
                        <p id="header-hsr-cost" class="text-sm">NT$ 0</p>
                        <!-- 市區交通費用 IDs -->
                        <p id="header-bus-cost" class="text-sm mt-1">NT$ 0</p>
                        <p id="header-taxi-cost" class="text-sm">NT$ 0</p>
                    </div>
                    <!-- 最終總額 -->
                    <div class="border-l border-teal-400 pl-2">
                        <p class="text-xl font-extrabold text-white" id="header-total-cost">NT$ 0</p>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-6 max-w-3xl">

        <!-- Info Block -->
        <div class="bg-white rounded-xl shadow-sm p-4 mb-6 border-l-4 border-teal-500">
            <h2 class="font-bold text-lg mb-2">行程重點 (Day 2 調整為睡飽、咖啡與購物)</h2>
            <ul class="list-disc list-inside text-sm text-gray-600 space-y-1">
                <li><span class="font-medium text-gray-800">必訪美食：</span>茶六燒肉、鐵木 Ironwood City Coffee、**飪荇咖啡 Renxing CAFE**、吃茶三千、BUTTER HOTEL (but.)</li>
                <li><span class="font-medium text-gray-800">必訪景點：</span>**台中綠美圖**、LaLaport 購物中心</li>
                <li><span class="font-medium text-gray-800">交通策略：</span>市區短程建議搭乘 Uber/計程車以節省時間，長程使用公車/高鐵。</li>
                <li class="text-teal-600 font-bold">新增功能：點擊據點卡片可彈出地圖資訊！</li>
            </ul>
        </div>

        <!-- Day 1 -->
        <div class="mb-8">
            <div class="flex items-center mb-4">
                <div class="bg-teal-600 text-white font-bold rounded-full w-10 h-10 flex items-center justify-center shadow-md z-10">D1</div>
                <h2 class="text-xl font-bold ml-3 text-teal-800">12/19 (週五) - 燒肉午餐、綠美圖與特色咖啡館</h2>
            </div>

            <div class="relative pl-4 space-y-6">
                <div class="timeline-line"></div>

                <!-- Stop 1: High Speed Rail (No click action) -->
                <div class="relative z-10">
                    <div class="bg-white rounded-lg shadow p-4 card border border-gray-100">
                        <div class="flex justify-between items-start">
                            <div>
                                <div class="text-teal-600 font-bold text-sm">10:00 - 11:00</div>
                                <h3 class="font-bold text-lg">搭乘高鐵前往台中</h3>
                                <p class="text-gray-500 text-xs mt-1"><i class="fas fa-train mr-1"></i>台北站 → 台中站</p>
                            </div>
                            <span class="time-badge"><i class="fas fa-clock mr-1"></i>約 60 分</span>
                        </div>
                        <!-- 高鐵費用 item (Type HSR) -->
                        <div class="mt-3 pt-3 border-t border-gray-100 text-sm bg-gray-50 rounded p-2 cost-item" data-cost="700" data-transport-type="hsr">
                            <div class="flex justify-between">
                                <span><i class="fas fa-ticket-alt mr-1"></i>高鐵標準車廂</span>
                                <span class="font-bold">$700</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Transport: HSR to Tea Six (Bus) -->
                <div class="relative z-10 pl-8">
                    <!-- 公車費用 item (Type BUS) -->
                    <div class="bg-teal-50 rounded p-3 text-sm border border-teal-100 cost-item" data-cost="25" data-transport-type="bus">
                        <div class="flex items-start">
                            <div class="flex flex-col items-center mr-3 min-w-[60px]">
                                <i class="fas fa-bus text-teal-600 text-lg"></i>
                                <span class="text-[10px] text-teal-600 font-bold mt-1">約 40 分</span>
                            </div>
                            <div class="w-full">
                                <div class="font-bold text-teal-800">移動：高鐵站 → 茶六 (新朝富店)</div>
                                <div class="text-gray-600 text-xs mt-1">
                                    <span class="transport-badge">公車</span>搭乘 **155路** 至「第六分局(市政路)」，步行 5 分鐘。<br>
                                    <span class="text-xs text-gray-400">(計程車約 $300-350 / 20分鐘)</span>
                                </div>
                                <div class="text-right font-bold text-teal-600 mt-1">$25</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Stop 2: Tea Six (Lunch) - Interactive -->
                <div class="relative z-10">
                    <div class="bg-white rounded-lg shadow p-4 card border-l-4 border-orange-400"
                        data-name="茶六燒肉堂 (新朝富店)" 
                        data-address="台中市西屯區朝富路258號" 
                        data-phone="(04) 2258-8977">
                        <div class="flex justify-between items-start">
                            <div>
                                <div class="text-orange-600 font-bold text-sm">12:00 - 14:00</div>
                                <h3 class="font-bold text-lg">茶六燒肉堂 (新朝富店)</h3>
                                <p class="text-gray-500 text-xs mt-1"><i class="fas fa-map-marker-alt mr-1"></i>西屯區朝富路258號</p>
                                <p class="text-gray-500 text-xs mt-1"><i class="fas fa-phone mr-1"></i><a href="tel:0422588977" class="hover:text-teal-600">(04) 2258-8977</a></p>
                            </div>
                        </div>
                        <p class="text-gray-600 text-sm mt-2">午餐時段。請務必提前預約。</p>
                    </div>
                </div>

                <!-- Transport: Tea Six to Hotel - Walk -->
                <div class="relative z-10 pl-8">
                    <!-- 步行費用 item (Type WALK) -->
                    <div class="bg-gray-50 rounded p-2 text-sm border border-gray-200 border-dashed cost-item" data-cost="0" data-transport-type="walk">
                        <div class="flex items-start">
                            <div class="flex flex-col items-center mr-3 min-w-[60px]">
                                <i class="fas fa-walking text-gray-600 text-lg"></i>
                                <span class="text-[10px] text-gray-600 font-bold mt-1">約 5 分</span>
                            </div>
                            <div class="w-full">
                                <div class="font-bold text-gray-800">移動：茶六 → 飯店 (采・寓halo house)</div>
                                <div class="text-gray-600 text-xs mt-1">
                                    <span class="transport-badge">步行</span>兩地皆位於七期重劃區，距離極近。
                                </div>
                                <div class="text-right font-bold text-gray-600 mt-1">$0</div>
                            </div>
                        </div>
                    </div>
                </div>

                 <!-- Stop 3: Hotel Check-in & Rest - Interactive -->
                <div class="relative z-10">
                    <div class="bg-white rounded-lg shadow p-4 card border-l-4 border-yellow-400"
                        data-name="采・寓halo house (飯店)" 
                        data-address="台中市西屯區市政北七路189號" 
                        data-phone="(04) 2259-2828">
                        <div class="flex justify-between items-start">
                            <div>
                                <div class="text-yellow-600 font-bold text-sm">14:15 - 15:30</div>
                                <h3 class="font-bold text-lg">飯店 Check-in & 稍作休息</h3>
                                <p class="text-gray-500 text-xs mt-1"><i class="fas fa-suitcase mr-1"></i>西屯區市政北七路189號 (采・寓halo house)</p>
                                <p class="text-gray-500 text-xs mt-1"><i class="fas fa-phone mr-1"></i><a href="tel:0422592828" class="hover:text-teal-600">(04) 2259-2828</a></p>
                            </div>
                        </div>
                        <p class="text-gray-600 text-sm mt-2">
                            辦理入住手續，放下行李，為下午的綠美圖行程做準備。
                        </p>
                    </div>
                </div>

                <!-- Transport: Hotel to Green Museumbrary - Taxi -->
                <div class="relative z-10 pl-8">
                    <!-- 計程車費用 item (Type TAXI) -->
                    <div class="bg-teal-50 rounded p-3 text-sm border border-teal-100 cost-item" data-cost="250" data-transport-type="taxi">
                        <div class="flex items-start">
                            <div class="flex flex-col items-center mr-3 min-w-[60px]">
                                <i class="fas fa-taxi text-teal-600 text-lg"></i>
                                <span class="text-[10px] text-teal-600 font-bold mt-1">約 30 分</span>
                            </div>
                            <div class="w-full">
                                <div class="font-bold text-teal-800">移動：飯店 → 台中綠美圖 (水湳)</div>
                                <div class="text-gray-600 text-xs mt-1">
                                    <span class="transport-badge">Taxi</span>從七期出發，前往水湳經貿園區的新地標。
                                </div>
                                <div class="text-right font-bold text-teal-600 mt-1">約 $250</div>
                            </div>
                        </div>
                    </div>
                </div>

                 <!-- Stop 4: Green Museumbrary - Interactive -->
                <div class="relative z-10">
                    <div class="bg-white rounded-lg shadow p-4 card border-l-4 border-green-500"
                        data-name="台中綠美圖" 
                        data-address="台中市水湳經貿園區" 
                        data-phone="(04) 2372-3552">
                        <div class="flex justify-between items-start">
                            <div>
                                <div class="text-green-600 font-bold text-sm">16:00 - 17:30</div>
                                <h3 class="font-bold text-lg">台中綠美圖</h3>
                                <p class="text-gray-500 text-xs mt-1"><i class="fas fa-map-marker-alt mr-1"></i>水湳經貿園區</p>
                                <p class="text-gray-500 text-xs mt-1"><i class="fas fa-phone mr-1"></i><a href="tel:0423723552" class="hover:text-teal-600">(04) 2372-3552</a></p>
                            </div>
                        </div>
                        <p class="text-gray-600 text-sm mt-2">
                            2025年12月全新開幕！妹島和世設計，結合美術館與圖書館的純白夢幻建築。
                        </p>
                    </div>
                </div>

                <!-- Transport: Green Museumbrary to BUTTER HOTEL - Taxi -->
                <div class="relative z-10 pl-8">
                    <!-- 計程車費用 item (Type TAXI) -->
                    <div class="bg-teal-50 rounded p-3 text-sm border border-teal-100 cost-item" data-cost="150" data-transport-type="taxi">
                        <div class="flex items-start">
                            <div class="flex flex-col items-center mr-3 min-w-[60px]">
                                <i class="fas fa-taxi text-teal-600 text-lg"></i>
                                <span class="text-[10px] text-teal-600 font-bold mt-1">約 15 分</span>
                            </div>
                            <div class="w-full">
                                <div class="font-bold text-teal-800">移動：綠美圖 → BUTTER HOTEL (民權路)</div>
                                <div class="text-gray-600 text-xs mt-1">
                                    <span class="transport-badge">Taxi</span>前往西區享用晚間點心/甜點。
                                </div>
                                <div class="text-right font-bold text-teal-600 mt-1">約 $150</div>
                            </div>
                        </div>
                    </div>
                </div>

                 <!-- Stop 5: BUTTER HOTEL (Dessert) - Interactive -->
                <div class="relative z-10">
                    <div class="bg-white rounded-lg shadow p-4 card border-l-4 border-pink-500"
                        data-name="BUTTER HOTEL 奶油飯店 (晚間甜點)" 
                        data-address="台中市西區民權路217巷18號" 
                        data-phone="(04) 2301-1866">
                        <div class="flex justify-between items-start">
                            <div>
                                <div class="text-pink-600 font-bold text-sm">18:00 - 19:00</div>
                                <h3 class="font-bold text-lg">BUTTER HOTEL 奶油飯店 (晚間甜點)</h3>
                                <p class="text-gray-500 text-xs mt-1"><i class="fas fa-cookie mr-1"></i>西區民權路217巷18號</p>
                                <p class="text-gray-500 text-xs mt-1"><i class="fas fa-phone mr-1"></i><a href="tel:0423011866" class="hover:text-teal-600">(04) 2301-1866</a></p>
                            </div>
                             <span class="bg-pink-100 text-pink-600 text-xs px-2 py-0.5 rounded">特色甜點</span>
                        </div>
                        <p class="text-gray-600 text-sm mt-2">
                            整棟美式復古飯店造景，可試吃奶油餅乾。
                        </p>
                    </div>
                </div>

                <!-- Transport: BUTTER HOTEL to Ironwood Coffee - Walk -->
                <div class="relative z-10 pl-8">
                    <!-- 步行費用 item (Type WALK) -->
                    <div class="bg-gray-50 rounded p-2 text-sm border border-gray-200 border-dashed cost-item" data-cost="0" data-transport-type="walk">
                        <div class="flex items-start">
                            <div class="flex flex-col items-center mr-3 min-w-[60px]">
                                <i class="fas fa-walking text-gray-600 text-lg"></i>
                                <span class="text-[10px] text-gray-600 font-bold mt-1">約 10 分</span>
                            </div>
                            <div class="w-full">
                                <div class="font-bold text-gray-800">移動：BUTTER HOTEL → 鐵木 Ironwood City Coffee</div>
                                <div class="text-gray-600 text-xs mt-1">
                                    <span class="transport-badge">步行</span>兩家店都在西區，步行即可抵達。
                                </div>
                                <div class="text-right font-bold text-gray-600 mt-1">$0</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Stop 6: Ironwood City Coffee - Interactive -->
                <div class="relative z-10">
                    <div class="bg-white rounded-lg shadow p-4 card border-l-4 border-amber-600"
                        data-name="鐵木 Ironwood City Coffee" 
                        data-address="台中市西區模範街21巷7號" 
                        data-phone="(04) 2301-1977">
                        <div class="flex justify-between items-start">
                            <div>
                                <div class="text-amber-600 font-bold text-sm">19:15 - 20:15</div>
                                <h3 class="font-bold text-lg">鐵木 Ironwood City Coffee (咖啡/休息)</h3>
                                <p class="text-gray-500 text-xs mt-1"><i class="fas fa-coffee mr-1"></i>西區模範街21巷7號</p>
                                <p class="text-gray-500 text-xs mt-1"><i class="fas fa-phone mr-1"></i><a href="tel:0423011977" class="hover:text-teal-600">(04) 2301-1977</a></p>
                            </div>
                        </div>
                        <p class="text-gray-600 text-sm mt-2">
                            在模範街品嚐咖啡，休息放鬆。此地段周邊有很多餐飲，可順便找尋正式晚餐地點。
                        </p>
                    </div>
                </div>
                
                 <!-- Stop 7: Dinner/Free Time (No map needed) -->
                <div class="relative z-10">
                    <div class="bg-white rounded-lg shadow p-4 card border-l-4 border-gray-400">
                        <div class="flex justify-between items-start">
                            <div>
                                <div class="text-gray-600 font-bold text-sm">20:15 - 晚間</div>
                                <h3 class="font-bold text-lg">晚餐與自由活動</h3>
                                <p class="text-gray-500 text-xs mt-1"><i class="fas fa-utensils mr-1"></i>模範街/勤美周邊</p>
                            </div>
                        </div>
                        <p class="text-gray-600 text-sm mt-2">
                            在模範街或勤美草悟道周邊自由選擇晚餐地點，之後可搭車回飯店。
                        </p>
                    </div>
                </div>

            </div>
        </div>

        <!-- Day 2 -->
        <div class="mb-8">
            <div class="flex items-center mb-4">
                <div class="bg-teal-600 text-white font-bold rounded-full w-10 h-10 flex items-center justify-center shadow-md z-10">D2</div>
                <h2 class="text-xl font-bold ml-3 text-teal-800">12/20 (週六) - 睡飽、咖啡與購物</h2>
            </div>

            <div class="relative pl-4 space-y-6">
                <div class="timeline-line"></div>

                 <!-- Transport: Hotel to Renxing Cafe - Taxi -->
                 <div class="relative z-10 pl-8">
                    <!-- 計程車費用 item (Type TAXI) -->
                    <div class="bg-teal-50 rounded p-3 text-sm border border-teal-100 cost-item" data-cost="200" data-transport-type="taxi">
                        <div class="flex items-start">
                             <div class="flex flex-col items-center mr-3 min-w-[60px]">
                                <i class="fas fa-taxi text-teal-600 text-lg"></i>
                                <span class="text-[10px] text-teal-600 font-bold mt-1">約 15 分</span>
                            </div>
                            <div class="w-full">
                                <div class="font-bold text-teal-800">移動：飯店 → 飪荇咖啡</div>
                                <div class="text-gray-600 text-xs mt-1">
                                    <span class="transport-badge">Taxi</span>從七期移動至西區向上路，享用咖啡與早午餐。
                                </div>
                                <div class="text-right font-bold text-teal-600 mt-1">約 $200</div>
                            </div>
                        </div>
                    </div>
                </div>

                 <!-- Stop 1 (New): Renxing CAFE - Interactive -->
                <div class="relative z-10">
                    <div class="bg-white rounded-lg shadow p-4 card border-l-4 border-blue-400"
                        data-name="飪荇咖啡 Renxing CAFE" 
                        data-address="台中市西區向上路一段27-2號" 
                        data-phone="(04) 2305-6587">
                        <div class="flex justify-between items-start">
                            <div>
                                <div class="text-blue-600 font-bold text-sm">11:00 - 12:30</div>
                                <h3 class="font-bold text-lg">飪荇咖啡 Renxing CAFE <span class="text-xs bg-red-100 text-red-600 px-2 py-0.5 rounded-full ml-1">已修正名稱與地址</span></h3>
                                <p class="text-gray-500 text-xs mt-1"><i class="fas fa-mug-hot mr-1"></i>西區向上路一段27-2號</p>
                                <p class="text-gray-500 text-xs mt-1"><i class="fas fa-phone mr-1"></i><a href="tel:0423056587" class="hover:text-teal-600">(04) 2305-6587</a></p>
                            </div>
                            <span class="time-badge"><i class="fas fa-bed mr-1"></i>睡飽再出發</span>
                        </div>
                        <p class="text-gray-600 text-sm mt-2">
                            享受人氣咖啡店，可搭配輕食。距離 LaLaport 仍是合理車程。
                        </p>
                    </div>
                </div>

                 <!-- Transport: Renxing Cafe to LaLaport - Taxi -->
                 <div class="relative z-10 pl-8">
                    <!-- 計程車費用 item (Type TAXI) -->
                    <div class="bg-teal-50 rounded p-3 text-sm border border-teal-100 cost-item" data-cost="150" data-transport-type="taxi">
                        <div class="flex items-start">
                             <div class="flex flex-col items-center mr-3 min-w-[60px]">
                                <i class="fas fa-taxi text-teal-600 text-lg"></i>
                                <span class="text-[10px] text-teal-600 font-bold mt-1">約 15 分</span>
                            </div>
                            <div class="w-full">
                                <div class="font-bold text-teal-800">移動：飪荇咖啡 → LaLaport (東區)</div>
                                <div class="text-gray-600 text-xs mt-1">
                                    <span class="transport-badge">Taxi</span>前往東區的購物中心。
                                </div>
                                <div class="text-right font-bold text-teal-600 mt-1">約 $150</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Stop 2: LaLaport - Interactive -->
                <div class="relative z-10">
                    <div class="bg-white rounded-lg shadow p-4 card border-l-4 border-pink-400"
                        data-name="LaLaport 購物中心" 
                        data-address="台中市東區進德路600號" 
                        data-phone="(04) 2215-6991">
                        <div class="flex justify-between items-start">
                            <div>
                                <div class="text-pink-600 font-bold text-sm">13:00 - 15:00</div>
                                <h3 class="font-bold text-lg">LaLaport 購物中心 (午餐與購物)</h3>
                                <p class="text-gray-500 text-xs mt-1"><i class="fas fa-shopping-bag mr-1"></i>東區進德路</p>
                                <p class="text-gray-500 text-xs mt-1"><i class="fas fa-phone mr-1"></i><a href="tel:0422156991" class="hover:text-teal-600">(04) 2215-6991</a></p>
                            </div>
                        </div>
                        <p class="text-gray-600 text-sm mt-2">午餐 & 逛街。分為北館與南館，可逛性極高。</p>
                    </div>
                </div>

                <!-- Transport: LaLaport to Chi Cha San Chen - Taxi -->
                 <div class="relative z-10 pl-8">
                    <!-- 計程車費用 item (Type TAXI) -->
                    <div class="bg-teal-50 rounded p-3 text-sm border border-teal-100 cost-item" data-cost="150" data-transport-type="taxi">
                        <div class="flex items-start">
                             <div class="flex flex-col items-center mr-3 min-w-[60px]">
                                <i class="fas fa-taxi text-teal-600 text-lg"></i>
                                <span class="text-[10px] text-teal-600 font-bold mt-1">約 15 分</span>
                            </div>
                            <div class="w-full">
                                <div class="font-bold text-teal-800">移動：LaLaport → 吃茶三千</div>
                                <div class="text-gray-600 text-xs mt-1">
                                    <span class="transport-badge">Taxi</span>前往南屯區享用移動至高鐵前最後的茶點。
                                </div>
                                <div class="text-right font-bold text-teal-600 mt-1">約 $150</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Stop 3: Chi Cha San Chen - Interactive -->
                <div class="relative z-10">
                    <div class="bg-white rounded-lg shadow p-4 card border-l-4 border-green-700"
                        data-name="吃茶三千 台灣概念店" 
                        data-address="台中市南屯區大英街607號" 
                        data-phone="(04) 2328-5555">
                        <div class="flex justify-between items-start">
                            <div>
                                <div class="text-green-700 font-bold text-sm">15:30 - 16:30</div>
                                <h3 class="font-bold text-lg">吃茶三千 台灣概念店</h3>
                                <p class="text-gray-500 text-xs mt-1"><i class="fas fa-leaf mr-1"></i>南屯區大英街607號</p>
                                <p class="text-gray-500 text-xs mt-1"><i class="fas fa-phone mr-1"></i><a href="tel:0423285555" class="hover:text-teal-600">(04) 2328-5555</a></p>
                            </div>
                        </div>
                        <p class="text-gray-600 text-sm mt-2">
                            紅磚老宅茶飲店，必點「國王珍珠奶茶」或現萃茶，作為旅程的甜蜜結尾。
                        </p>
                    </div>
                </div>

                 <!-- Transport: Chi Cha San Chen to HSR - Bus -->
                 <div class="relative z-10 pl-8">
                    <!-- 公車費用 item (Type BUS) -->
                    <div class="bg-teal-50 rounded p-3 text-sm border border-teal-100 cost-item" data-cost="25" data-transport-type="bus">
                        <div class="flex items-start">
                             <div class="flex flex-col items-center mr-3 min-w-[60px]">
                                <i class="fas fa-bus text-teal-600 text-lg"></i>
                                <span class="text-[10px] text-teal-600 font-bold mt-1">約 30 分</span>
                            </div>
                            <div class="w-full">
                                <div class="font-bold text-teal-800">移動：吃茶三千 → 台中高鐵站</div>
                                <div class="text-gray-600 text-xs mt-1">
                                    <span class="transport-badge">公車</span>搭乘前往高鐵方向的公車，較為經濟。
                                </div>
                                <div class="text-right font-bold text-teal-600 mt-1">$25</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Stop 4: HSR Return (No map needed) -->
                <div class="relative z-10">
                    <div class="bg-white rounded-lg shadow p-4 card border border-gray-100">
                        <div class="flex justify-between items-start">
                            <div>
                                <div class="text-teal-600 font-bold text-sm">17:39 - 18:40</div>
                                <h3 class="font-bold text-lg">搭乘高鐵返回台北</h3>
                                <p class="text-gray-500 text-xs mt-1"><i class="fas fa-train mr-1"></i>台中站 → 台北站</p>
                            </div>
                            <span class="time-badge"><i class="fas fa-clock mr-1"></i>約 60 分</span>
                        </div>
                        <p class="text-red-500 text-xs mt-2 font-bold"><i class="fas fa-exclamation-circle mr-1"></i>建議 17:15 前抵達高鐵站</p>
                        <!-- 高鐵費用 item (Type HSR) -->
                        <div class="mt-3 pt-3 border-t border-gray-100 text-sm bg-gray-50 rounded p-2 cost-item" data-cost="700" data-transport-type="hsr">
                            <div class="flex justify-between">
                                <span><i class="fas fa-ticket-alt mr-1"></i>高鐵標準車廂</span>
                                <span class="font-bold">$700</span>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>

    </main>
    
    <!-- Map Modal Structure -->
    <div id="map-modal" class="fixed inset-0 bg-gray-900 bg-opacity-75 hidden items-center justify-center p-4 z-[99]">
        <div class="bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden transform scale-95 transition-all">
            <!-- Modal Header -->
            <div class="flex justify-between items-center p-4 border-b border-gray-200">
                <h2 id="modal-title" class="text-xl font-bold text-teal-600">據點地圖資訊</h2>
                <button id="close-modal-btn" class="text-gray-500 hover:text-gray-800 p-2 rounded-full hover:bg-gray-100 transition">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            
            <!-- Modal Body (Map & Info) -->
            <div class="p-4 space-y-4">
                <div id="modal-info" class="text-sm space-y-1">
                    <p><i class="fas fa-map-marker-alt text-red-500 mr-1"></i>地址: <span id="modal-address" class="font-medium text-gray-700"></span></p>
                    <p><i class="fas fa-phone text-blue-500 mr-1"></i>電話: <a id="modal-phone-link" class="font-medium text-teal-600 hover:text-teal-800 underline"></a></p>
                </div>
                <div class="w-full aspect-[4/3] rounded-lg overflow-hidden border border-gray-300">
                    <iframe id="modal-map-iframe" width="100%" height="100%" frameborder="0" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Calculate Totals and Map/Phone Logic
        document.addEventListener('DOMContentLoaded', () => {
            // --- 費用計算邏輯 (Total Calculation Logic) ---
            const costItems = document.querySelectorAll('.cost-item');
            let totalHsr = 0;
            let totalBus = 0;
            let totalTaxi = 0;

            costItems.forEach(item => {
                const cost = parseInt(item.getAttribute('data-cost'));
                const type = item.getAttribute('data-transport-type'); // 取得交通工具類別

                if (cost > 0) {
                    if (type === 'hsr') {
                        totalHsr += cost;
                    } else if (type === 'bus') {
                        totalBus += cost;
                    } else if (type === 'taxi') {
                        totalTaxi += cost;
                    }
                }
            });
            
            const finalTotal = totalHsr + totalBus + totalTaxi; 

            // 更新 Header 中的數字
            document.getElementById('header-hsr-cost').innerText = `NT$ ${totalHsr}`;
            document.getElementById('header-bus-cost').innerText = `NT$ ${totalBus}`;
            document.getElementById('header-taxi-cost').innerText = `NT$ ${totalTaxi}`;
            document.getElementById('header-total-cost').innerText = `NT$ ${finalTotal}`;

            // --- 地圖彈窗邏輯 (Modal Map Logic) ---
            const modal = document.getElementById('map-modal');
            const closeBtn = document.getElementById('close-modal-btn');
            const cards = document.querySelectorAll('.card');
            
            // 點擊卡片開啟地圖
            cards.forEach(card => {
                const name = card.getAttribute('data-name');
                const address = card.getAttribute('data-address');
                const phone = card.getAttribute('data-phone');

                // 只有有地址資訊的卡片才啟用點擊事件
                if (address) {
                    card.addEventListener('click', () => {
                        // 設置標題
                        document.getElementById('modal-title').innerText = name || '據點地圖資訊';
                        
                        // 設置地址
                        document.getElementById('modal-address').innerText = address;
                        
                        // 設置電話 (若有)
                        const phoneLink = document.getElementById('modal-phone-link');
                        if (phone) {
                            phoneLink.innerText = phone;
                            phoneLink.href = `tel:${phone.replace(/[\s-()]/g, '')}`; // 清理電話號碼格式以用於tel:
                        } else {
                            phoneLink.innerText = '無提供';
                            phoneLink.href = '#';
                        }

                        // 設置地圖 iframe
                        const mapIframe = document.getElementById('modal-map-iframe');
                        // 使用 Google Maps 嵌入查詢 (z=15 是縮放級別)
                        const mapUrl = `https://maps.google.com/maps?q=${encodeURIComponent(address)}&t=&z=15&ie=UTF8&iwloc=&output=embed`;
                        mapIframe.src = mapUrl;

                        // 顯示 Modal (使用 Tailwind flex 類別)
                        modal.classList.remove('hidden');
                        modal.classList.add('flex');
                    });
                }
            });

            // 關閉 Modal 函式
            const closeModal = () => {
                modal.classList.remove('flex');
                modal.classList.add('hidden');
                // 清空 iframe src 以停止地圖加載
                document.getElementById('modal-map-iframe').src = '';
            };

            // 關閉 Modal 事件
            closeBtn.addEventListener('click', closeModal);

            // 點擊 Modal 背景關閉
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    closeModal();
                }
            });
        });
    </script>
</body>
</html>